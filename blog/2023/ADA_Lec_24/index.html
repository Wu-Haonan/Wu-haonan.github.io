<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Randomized Algs:Occupancy Problems &amp; Markov's and Chebyshev's inequalities | Haonan Wu (吴昊楠) </title> <meta name="author" content="Haonan Wu (吴昊楠)"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A7%AC&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://wu-haonan.github.io/blog/2023/ADA_Lec_24/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Haonan</span> Wu (吴昊楠) </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Talks and Posters </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Travelling Gallery </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Randomized Algs:Occupancy Problems &amp; Markov's and Chebyshev's inequalities</h1> <p class="post-meta"> Created on November 13, 2023 </p> <p class="post-tags"> <a href="/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/algorithm-design-and-analysis"> <i class="fa-solid fa-hashtag fa-sm"></i> Algorithm_Design_and_Analysis</a>   ·   <a href="/blog/category/algorithm-design-and-analysis"> <i class="fa-solid fa-tag fa-sm"></i> Algorithm_Design_and_Analysis</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>This blog, we still talk about randomized algorithms. Today we will focus on some analysis tools in randomized algorithms. In this blog, we want to explore the probability that some extreme event happens, that is the random variable takes “large” value. So, Markov’s and Chebyshev’s inequalities are also called Tail Inequalities.</p> <h1 id="occupancy-problems">Occupancy Problems</h1> <p>Imagine we have ${m}$ indistinguishable objects (“balls”), that we randomly assign to ${n}$ distinct classes (“bins”).</p> <ul> <li>What is expected maximum number of balls in any bin?</li> <li>What is the expected number of bins with ${k}$ balls?</li> </ul> <p>These are called occupancy problems.</p> <p>Let ${m = n \geq 3}$, and for ${i = 1, \ldots, n}$ let random variable ${X_i}$ be the number of balls in the ${i}$th bin. And ${X_i}$ is a binomial distribution, ${X_i \sim B(n,\frac{1}{n})}$.</p> <p>We want to find ${k}$ such that, with very high probability, no bin contains more than ${k}$ balls. Let ${\mathcal{E}_j(k)}$ be the event that bin ${j}$ contains at least ${k}$ balls $({X_j \geq k})$.</p> <p>First consider ${\mathcal{E}_i(k)}$,</p> \[\begin{aligned} \Pr[X_i = j] &amp;= \binom{n}{j} \left(\frac{1}{n}\right)^j \left(1 - \frac{1}{n}\right)^{n-j} \\ &amp;\leq \binom{n}{j} \left(\frac{1}{n}\right)^j \\ &amp;\leq \left(\frac{ne}{j}\right)^j \left(\frac{1}{n}\right)^j \\ &amp;= \left(\frac{e}{j}\right)^j \\ \end{aligned}\] <p>Note: in above scaling we use Stirling’s approximation in step 3, that is ${n! = \sqrt{2 \pi n} \left(\frac{n}{e}\right)^n e^{c_n}, 0&lt; c_n &lt; \frac{1}{12n} }$. So we have</p> \[\begin{aligned} \binom{n}{j} &amp;= \frac{n!}{j!(n-j)!} \\ &amp;\leq \frac{n^j}{j!} \\ &amp;\leq \frac{n^j}{\sqrt{2 \pi j} \left( \frac{j}{e}\right)^j}\\ &amp;\leq \left(\frac{ne}{j}\right)^j \end{aligned}\] <p>Next, we have</p> \[\begin{aligned} \Pr[\mathcal{E}_i(k)] &amp;\leq \sum_{j=k}^{n} \binom{n}{j} \left(\frac{1}{n}\right)^j \\ &amp;\leq \sum_{j=k}^{n} \left(\frac{e}{j}\right)^j \\ &amp;\leq \left(\frac{e}{k}\right)^k \left(1 + \frac{e}{k} + \left(\frac{e}{k}\right)^2 + \cdots + \left(\frac{e}{k}\right)^{n-k+1} \right) \\ &amp;\leq \left(\frac{e}{k}\right)^k \left(\frac{1}{1 - \frac{e}{k}}\right) \end{aligned}\] <p>Note: in above scaling we use the union bound in step 1,</p> \[\begin{aligned} \Pr[\mathcal{E}_i(k)] &amp;= Pr\left[\cup_{j=k}^n [X_i = j]\right]\\ &amp; \leq \sum_{j=k}^n Pr[X_i = j]\\ &amp;\leq \sum_{j=k}^{n} \binom{n}{j} \left(\frac{1}{n}\right)^j \\ \end{aligned}\] <p>Let ${k^* = \min\{n+1, \left\lceil \frac{2e}{1-e} \frac{\ln n}{\ln \ln n} \right\rceil\}} \leq \left\lceil 3.164 \frac{\ln n}{\ln \ln n} \right\rceil$, then</p> \[\begin{aligned} \Pr[\mathcal{E}_i(k^*)] &amp;\leq \left( \frac{e}{k^*} \right)^{k^*} \left( \frac{1}{1 - \frac{e}{k^*}} \right) \leq n^{-2} \end{aligned}\] <p>The same holds for all ${i}$, so</p> \[\begin{aligned} \Pr\left[\bigcup_{i=1}^n \mathcal{E}_i(k^*)\right] &amp;\leq \sum_{i=1}^n \Pr[\mathcal{E}_i(k^*)] \leq \frac{1}{n} \end{aligned}\] <p>We have shown:</p> <p><strong>Theorem</strong> With probability at least ${1 - \frac{1}{n}}$, every bin has less than ${k^* = \min\{n+1, \left\lceil \frac{2e}{1-e} \frac{\ln n}{\ln \ln n} \right\rceil\}} $ balls in it.</p> <h2 id="birthday-problem">Birthday Problem</h2> <p>Suppose ${m}$ balls are randomly assigned to ${n}$ bins. What is the probability that all balls land in distinct bins?</p> <p>For ${n = 365}$ the question can be interpreted as “how large must a group of people be before it is likely two people have the same birthday”?</p> <p>Let ${\mathcal{E}_i}$ be the event that the ${i}$th ball lands in an empty bin. From <a href="https://wu-haonan.github.io/2023/11/08/ADA_Lec_23.html#analysis-of-algorithm">previous blog</a> we know:</p> \[\begin{aligned} \Pr\left[\bigcap_{i=2}^m \mathcal{E}_i\right] &amp;= \Pr[\mathcal{E}_2] \cdot \Pr[\mathcal{E}_3 | \mathcal{E}_2] \cdot \ldots \cdot \Pr\left[\mathcal{E}_m | \cap_{i=2}^{m-1} \mathcal{E}_i\right]\\ &amp;= \prod_{i=2}^m \left(1 - \frac{i - 1}{n}\right)\\ &amp;\leq \prod_{i=2}^m e^{-\frac{i-1}{n}} = e^{-\frac{m(m-1)}{2n}} \end{aligned}\] <p>For ${m \geq \sqrt{2n} + 1}$, the probability that all are distinct is at most ${1/e}$.</p> <h1 id="markovs-inequality">Markov’s Inequality</h1> <p><strong>Theorem:</strong> Let $Y$ be a random variable taking only non-negative values. Then for all $t &gt; 0$:</p> \[\Pr[Y \geq t] \leq \frac{\mathbb{E}[Y]}{t}\] <p>equivalently, for $k &gt; 0$:</p> \[\Pr[Y \geq k\mathbb{E}[Y]] \leq \frac{1}{k}\] <p><strong>Proof.</strong> Let $Z$ be indicator variable for the event $Y \geq t$, that is</p> \[\begin{equation} Z = \begin{cases} 1 &amp; Y \geq t\\ 0 &amp; Y &lt; t \end{cases} \end{equation}\] <p>Then $Z \leq \frac{Y}{t}$, and thus</p> \[\Pr[Y \geq t] =\Pr[Z=1]=0 \cdot \Pr[Z=0]+1 \cdot\Pr[X=1]= \mathbb{E}[Z] \leq \mathbb{E}\left[\frac{Y}{t}\right] = \frac{\mathbb{E}[Y]}{t}\] <p>Setting $t = k\mathbb{E}[Y]$ we get</p> <p>\(Pr[Y \geq k\mathbb{E}[Y]] = Pr[Y \geq t] \leq \frac{\mathbb{E}[Y]}{t} = \frac{1}{k}\) Hence, we prove the Markov’s Inequality. ${\square}$</p> <p>There’s another proof, I think, which is easier to understand</p> <p><strong>Proof.</strong> By definition, $\mathbb{E}[Y]={\sum_{y} y \Pr[Y=y]}$, we have</p> \[\begin{aligned} \mathbb{E}[Y] &amp;={\sum_{y} y \Pr[Y=y]}\\ &amp;= {\sum_{y\geq a} y \Pr[Y=y]} + {\sum_{y&lt;a} y \Pr[Y=y]}\\ &amp; \geq {\sum_{y\geq a} a \Pr[Y=y]} + 0 \\ &amp; = a \Pr[Y\geq a] \end{aligned}\] <p>Hence, we have ${\Pr[Y \geq t] \leq \frac{\mathbb{E}[Y]}{t}}$. ${\square}$</p> <h1 id="chebyshevs-inequality">Chebyshev’s Inequality</h1> <p>Given a random variable $X$ with expectation $\mathbb{E}[X] = \mu_X$, define its <strong><font color="red">variance</font></strong> as $\sigma_X^2 := \mathbb{E}[(X - \mu_X)^2]$, and its <strong><font color="red">standard deviation</font></strong> as $\sigma_X := \sqrt{\mathbb{E}[(X - \mu_X)^2]}$.</p> <p><strong>Theorem:</strong> Let $X$ be a random variable with expectation $\mu_X$ and standard deviation $\sigma_X$. Then for all $t &gt; 0$:</p> \[\Pr[|X - \mu_X| \geq t\sigma_X] \leq \frac{1}{t^2}\] <p><strong>Proof.</strong> Let $k = t^2$ and $Y = (X - \mu_X)^2$. Then $\sigma_X^2 = \mathbb{E}[Y]$ (by definition) and</p> \[\Pr[|X - \mu_X| \geq t\sigma_X] = \Pr[(X - \mu_X)^2 \geq t^2\sigma_X^2] = \Pr[Y \geq k \mathbb{E}[Y]]\] <p>By Markov’s inequality, we have</p> \[\Pr[Y \geq k \mathbb{E}[Y]] \leq \frac{1}{k} = \frac{1}{t^2}\] <h1 id="summing-2-independent-variances">Summing 2-Independent Variances</h1> <p>Random variables $X_1, \ldots, X_m \in \mathcal{X}$ are <strong>pairwise independent</strong> iff for all $i \neq j$ and all possible $x, y \in \mathbb{R}$, $\Pr[X_i = x \mid X_j = y] = \Pr[X_i = x]$.</p> <p><strong>Claim:</strong> If $X_1, \ldots, X_m \in \mathcal{X}$ are <strong>pairwise independent</strong>, for all $i \neq j$ we have ${\mathbb{E}[X_i X_j] =\mathbb{E}[X_i]\mathbb{E}[X_j] }$.</p> <p><strong>Proof.</strong> ${\Pr[X_i = x \cap X_j = y] = \Pr[X_i = x \mid X_j = y] \cdot \Pr[X_j = y] = \Pr[X_i = x]\Pr[X_j = y] }$, then we have \(\begin{aligned} \mathbb{E}[X_i X_j] &amp;= \sum_{x} \sum_{y} xy \Pr[X_i = x \cap X_j = y]\\ &amp; = \sum_{x} \sum_{y} xy \Pr[X_i = x]\Pr[X_j = y] \\ &amp; = \left(\sum_{x} x \Pr[X_i = x]\right)\left(\sum_{y} y \Pr[X_j = y]\right) \end{aligned}\)</p> <p>Thus, we prove ${\mathbb{E}[X_i X_j] =\mathbb{E}[X_i]\mathbb{E}[X_j] }$. ${\square}$</p> <p><strong>Lemma:</strong> Let $X_1, \ldots, X_m$ be pairwise independent random variables, and let $X = \sum_{i=1}^m X_i$. Then $\sigma_X^2 = \sum_{i=1}^m \sigma_{X_i}^2$.</p> <p><strong>Proof.</strong> Let ${\mu_i = \mathbb{E}[X_i]}$ and ${\mu = \sum_{i=1}^m \mu_i}$. By definition,</p> \[\begin{aligned} \sigma_X^2 &amp;= \mathbb{E}[(X - \mu)^2] \\ &amp;= \mathbb{E}\left[\left(\sum_{i=1}^m X_i - \mathbb{E}[X]\right)^2\right]\\ &amp; =\mathbb{E}\left[\left(\sum_{i=1}^m X_i - \mathbb{E}\left[\sum_{i=1}^m X_i\right]\right)^2\right] \\ &amp; = \mathbb{E}\left[\left(\sum_{i=1}^m X_i - \sum_{i=1}^m \mathbb{E}[X_i]\right]\right)^2\\ &amp;= \mathbb{E}\left[\left(\sum_{i=1}^m (X_i - \mu_i)\right)^2\right] \\ &amp;= \left(\sum_{i=1}^m E[X_i - \mu_i]\right)^2 \\ &amp;= \sum_{i=1}^m \mathbb{E}[(X_i - \mu_i)^2] + 2 \sum_{i&lt;j} \mathbb{E}[(X_i - \mu_i)(X_j - \mu_j)] \text{ (By claim)}\\ &amp;= \sum_{i=1}^m \mathbb{E}[(X_i - \mu_i)^2] + 2 \sum_{i&lt;j} \mathbb{E}[X_i - \mu_i]\mathbb{E}[X_j - \mu_j] \\ &amp;= \sum_{i=1}^m \sigma_{X_i}^2 + 2 \sum_{i&lt;j} 0 \cdot 0 \end{aligned}\] <p>Hence, we prove $\sigma_X^2 = \sum_{i=1}^m \sigma_{X_i}^2$. ${\square}$</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/ADA_Lec_25/">Randomized Algs:Randomized Selection</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/ADA_Lec_19/">Gready Alg and Local Search:Minimum-Degree Spanning Tree</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/ADA_Lec_8/">Polynimial Reduction</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/ADA_Lec_27/">Randomized Algs:Permutation Routing Problem</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/ADA_Lec_21/">Rounding and Dynamic Programming:Parallel Machines Job Scheduling</a> </li> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Haonan Wu (吴昊楠). Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>